<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2024-07-04T22:00:00.000Z" agent="5.0" etag="sequence-diagram" version="24.6.4" type="device">
  <diagram name="WA Report Generator Sequence" id="wa-report-generator-sequence">
    <mxGraphModel dx="1422" dy="754" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="2336" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="Well-Architected Report Generator - Sequence Diagram" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="527" y="20" width="600" height="30" as="geometry" />
        </mxCell>

        <!-- Actors/Systems -->
        <!-- User/Trigger -->
        <mxCell id="user" value="User/Event" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="50" y="80" width="30" height="60" as="geometry" />
        </mxCell>

        <!-- Lambda Function -->
        <mxCell id="lambda" value="Lambda&#xa;wa_report_generator" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn4.iconfinder.com/data/icons/amazon-aws-stencils/100/Compute__Amazon_Lambda-128.png" vertex="1" parent="1">
          <mxGeometry x="200" y="80" width="64" height="64" as="geometry" />
        </mxCell>

        <!-- AWS STS -->
        <mxCell id="sts" value="AWS STS" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn4.iconfinder.com/data/icons/amazon-aws-stencils/100/Security__Identity____Compliance_copy_AWS_Identity_and_Access_Management_IAM-128.png" vertex="1" parent="1">
          <mxGeometry x="350" y="80" width="64" height="64" as="geometry" />
        </mxCell>

        <!-- AWS Config -->
        <mxCell id="config" value="AWS Config" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn4.iconfinder.com/data/icons/amazon-aws-stencils/100/Management_Tools_copy_AWS_Config-128.png" vertex="1" parent="1">
          <mxGeometry x="500" y="80" width="64" height="64" as="geometry" />
        </mxCell>

        <!-- Well-Architected Tool -->
        <mxCell id="wa" value="Well-Architected&#xa;Tool" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn4.iconfinder.com/data/icons/amazon-aws-stencils/100/Management_Tools_copy_AWS_Well-Architected_Tool-128.png" vertex="1" parent="1">
          <mxGeometry x="650" y="80" width="64" height="64" as="geometry" />
        </mxCell>

        <!-- AWS Support -->
        <mxCell id="support" value="AWS Support&#xa;(Trusted Advisor)" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn4.iconfinder.com/data/icons/amazon-aws-stencils/100/Customer_Engagement_copy_AWS_Support-128.png" vertex="1" parent="1">
          <mxGeometry x="800" y="80" width="64" height="64" as="geometry" />
        </mxCell>

        <!-- Resource Groups Tagging API -->
        <mxCell id="tagging" value="Resource Groups&#xa;Tagging API" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn4.iconfinder.com/data/icons/amazon-aws-stencils/100/Management_Tools_copy_AWS_Resource_Groups-128.png" vertex="1" parent="1">
          <mxGeometry x="950" y="80" width="64" height="64" as="geometry" />
        </mxCell>

        <!-- Jinja2 Template Engine -->
        <mxCell id="jinja" value="Jinja2&#xa;Template Engine" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn4.iconfinder.com/data/icons/logos-brands-5/24/python-128.png" vertex="1" parent="1">
          <mxGeometry x="1100" y="80" width="64" height="64" as="geometry" />
        </mxCell>

        <!-- S3 -->
        <mxCell id="s3" value="Amazon S3" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn4.iconfinder.com/data/icons/amazon-aws-stencils/100/Storage__Content_Delivery_Amazon_Simple_Storage_Service_S3-128.png" vertex="1" parent="1">
          <mxGeometry x="1250" y="80" width="64" height="64" as="geometry" />
        </mxCell>

        <!-- Lifelines -->
        <mxCell id="user-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="60" y="180" width="10" height="1800" as="geometry" />
        </mxCell>

        <mxCell id="lambda-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="227" y="180" width="10" height="1800" as="geometry" />
        </mxCell>

        <mxCell id="sts-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="377" y="180" width="10" height="1800" as="geometry" />
        </mxCell>

        <mxCell id="config-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="527" y="180" width="10" height="1800" as="geometry" />
        </mxCell>

        <mxCell id="wa-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="677" y="180" width="10" height="1800" as="geometry" />
        </mxCell>

        <mxCell id="support-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="827" y="180" width="10" height="1800" as="geometry" />
        </mxCell>

        <mxCell id="tagging-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="977" y="180" width="10" height="1800" as="geometry" />
        </mxCell>

        <mxCell id="jinja-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="1127" y="180" width="10" height="1800" as="geometry" />
        </mxCell>


        <!-- Sequence Interactions -->

        <!-- 1. Initial Lambda Invocation -->
        <mxCell id="invoke-lambda" value="1. Invoke Lambda&#xa;{workload_id, dry_run}" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1" source="user-lifeline" target="lambda-lifeline">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="70" y="220" as="sourcePoint" />
            <mxPoint x="227" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 2. Get Account ID -->
        <mxCell id="get-account" value="2. get_caller_identity()" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1" source="lambda-lifeline" target="sts-lifeline">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="237" y="260" as="sourcePoint" />
            <mxPoint x="377" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="account-response" value="Account ID" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" edge="1" parent="1" source="sts-lifeline" target="lambda-lifeline">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="377" y="280" as="sourcePoint" />
            <mxPoint x="237" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 3. Get Conformance Pack Details -->
        <mxCell id="get-conformance-packs" value="3. describe_conformance_pack_compliance()&#xa;(for each pack: Security, Reliability, Cost)" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1" source="lambda-lifeline" target="config-lifeline">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="237" y="320" as="sourcePoint" />
            <mxPoint x="527" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="conformance-response" value="Conformance Pack Rules List" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" edge="1" parent="1" source="config-lifeline" target="lambda-lifeline">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="527" y="340" as="sourcePoint" />
            <mxPoint x="237" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 4. Get Rule Details Loop -->
        <mxCell id="loop-start" value="Loop: For each Config Rule" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;recursiveResize=0;container=1;collapsible=0;width=160;" vertex="1" parent="1">
          <mxGeometry x="180" y="380" width="1140" height="400" as="geometry" />
        </mxCell>

        <mxCell id="get-rule-details" value="4. get_compliance_details_by_config_rule()" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1" source="lambda-lifeline" target="config-lifeline">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="237" y="420" as="sourcePoint" />
            <mxPoint x="527" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="rule-details-response" value="Resource Compliance Details" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" edge="1" parent="1" source="config-lifeline" target="lambda-lifeline">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="527" y="440" as="sourcePoint" />
            <mxPoint x="237" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 5. Get Resource Tags -->
        <mxCell id="get-tags" value="5. get_resources()&#xa;(for Name tags)" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1" source="lambda-lifeline" target="tagging-lifeline">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="237" y="480" as="sourcePoint" />
            <mxPoint x="977" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="tags-response" value="Resource Tags" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" edge="1" parent="1" source="tagging-lifeline" target="lambda-lifeline">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="977" y="500" as="sourcePoint" />
            <mxPoint x="237" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 6. Well-Architected Tool Integration (if workload_id provided) -->
        <mxCell id="wa-condition" value="If workload_id provided" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;recursiveResize=0;container=1;collapsible=0;width=160;" vertex="1" parent="1">
          <mxGeometry x="180" y="540" width="540" height="220" as="geometry" />
        </mxCell>

        <mxCell id="get-lens" value="6a. get_lens()" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1" source="lambda-lifeline" target="wa-lifeline">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="237" y="580" as="sourcePoint" />
            <mxPoint x="677" y="580" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="lens-response" value="Lens ARN" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" edge="1" parent="1" source="wa-lifeline" target="lambda-lifeline">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="677" y="600" as="sourcePoint" />
            <mxPoint x="237" y="600" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="get-answer" value="6b. get_answer()&#xa;(question details)" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1" source="lambda-lifeline" target="wa-lifeline">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="237" y="640" as="sourcePoint" />
            <mxPoint x="677" y="640" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="answer-response" value="Question Title, Description, Choices" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" edge="1" parent="1" source="wa-lifeline" target="lambda-lifeline">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="677" y="660" as="sourcePoint" />
            <mxPoint x="237" y="660" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="list-check-details" value="6c. list_check_details()&#xa;(Trusted Advisor)" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1" source="lambda-lifeline" target="wa-lifeline">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="237" y="700" as="sourcePoint" />
            <mxPoint x="677" y="700" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="check-details-response" value="Trusted Advisor Check Details" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" edge="1" parent="1" source="wa-lifeline" target="lambda-lifeline">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="677" y="720" as="sourcePoint" />
            <mxPoint x="237" y="720" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 7. Support Plan Check -->
        <mxCell id="check-support" value="7. describe_trusted_advisor_checks()&#xa;(check support plan)" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1" source="lambda-lifeline" target="support-lifeline">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="237" y="820" as="sourcePoint" />
            <mxPoint x="827" y="820" as="targetPoint" />
          </mxGeometry>
        </mxCell>


        <!-- 8. Template Rendering -->
        <mxCell id="render-template" value="8. render()&#xa;(with compliance data)" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1" source="lambda-lifeline" target="jinja-lifeline">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="237" y="880" as="sourcePoint" />
            <mxPoint x="1127" y="880" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="template-response" value="HTML Report Content" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" edge="1" parent="1" source="jinja-lifeline" target="lambda-lifeline">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1127" y="900" as="sourcePoint" />
            <mxPoint x="237" y="900" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 9. S3 Upload -->
        <mxCell id="upload-s3" value="9. put_object()&#xa;(upload HTML report)" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1" source="lambda-lifeline" target="s3-lifeline">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="237" y="940" as="sourcePoint" />
            <mxPoint x="1277" y="940" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="s3-response" value="Upload Success" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" edge="1" parent="1" source="s3-lifeline" target="lambda-lifeline">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1277" y="960" as="sourcePoint" />
            <mxPoint x="237" y="960" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- 10. Final Response -->
        <mxCell id="final-response" value="10. Success Response&#xa;{status, report_url}" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" edge="1" parent="1" source="lambda-lifeline" target="user-lifeline">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="237" y="1000" as="sourcePoint" />
            <mxPoint x="70" y="1000" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Notes and Annotations -->
        <mxCell id="note1" value="Executive Summary&#xa;Calculations:&#xa;• Overall compliance %&#xa;• Per-pillar KPIs&#xa;• Best/worst pillars&#xa;• Status assessment" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1350" y="300" width="150" height="120" as="geometry" />
        </mxCell>

        <mxCell id="note2" value="Template Features:&#xa;• Professional styling&#xa;• Color-coded status&#xa;• Responsive cards&#xa;• Visual indicators&#xa;• Key insights" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1350" y="450" width="150" height="120" as="geometry" />
        </mxCell>

        <mxCell id="note3" value="Data Sources:&#xa;• AWS Config rules&#xa;• Resource compliance&#xa;• WA Tool questions&#xa;• Trusted Advisor&#xa;• Resource tags" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1350" y="600" width="150" height="120" as="geometry" />
        </mxCell>

        <!-- Process Flow Summary -->
        <mxCell id="process-summary" value="Process Flow Summary" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="50" y="1100" width="1450" height="400" as="geometry" />
        </mxCell>

        <mxCell id="phase1" value="Phase 1: Data Collection" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="process-summary">
          <mxGeometry y="26" width="1450" height="26" as="geometry" />
        </mxCell>

        <mxCell id="phase1-details" value="• Get AWS account identity and region information&#xa;• Retrieve conformance pack compliance data for Security, Reliability, and Cost Optimization pillars&#xa;• For each Config rule: get detailed compliance results and resource information&#xa;• Fetch resource tags (especially Name tags) for better identification&#xa;• Check AWS Support plan status for Trusted Advisor capabilities" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="process-summary">
          <mxGeometry y="52" width="1450" height="78" as="geometry" />
        </mxCell>

        <mxCell id="phase2" value="Phase 2: Well-Architected Tool Integration (Optional)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="process-summary">
          <mxGeometry y="130" width="1450" height="26" as="geometry" />
        </mxCell>

        <mxCell id="phase2-details" value="• If workload_id provided: retrieve Well-Architected lens information&#xa;• Get detailed question information including titles, descriptions, and choices&#xa;• Fetch Trusted Advisor check details and summaries for enhanced recommendations&#xa;• Map Config rules to Well-Architected best practices for better context" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="process-summary">
          <mxGeometry y="156" width="1450" height="64" as="geometry" />
        </mxCell>

        <mxCell id="phase3" value="Phase 3: Executive Summary Generation" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="process-summary">
          <mxGeometry y="220" width="1450" height="26" as="geometry" />
        </mxCell>

        <mxCell id="phase3-details" value="• Calculate overall compliance percentage across all pillars&#xa;• Generate per-pillar KPIs: compliant, non-compliant, not applicable, and total counts&#xa;• Determine status classification (Excellent 90%+, Good 75-89%, Needs Attention 50-74%, Critical &lt;50%)&#xa;• Identify best and worst performing pillars for key insights&#xa;• Create actionable recommendations based on compliance posture" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="process-summary">
          <mxGeometry y="246" width="1450" height="78" as="geometry" />
        </mxCell>

        <mxCell id="phase4" value="Phase 4: Report Generation and Delivery" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="process-summary">
          <mxGeometry y="324" width="1450" height="26" as="geometry" />
        </mxCell>

        <mxCell id="phase4-details" value="• Render comprehensive HTML report using Jinja2 template with executive summary, detailed compliance data, and visual indicators&#xa;• Upload final report to dedicated S3 bucket with encryption and proper naming convention&#xa;• Return success response with report URL and execution status" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="process-summary">
          <mxGeometry y="350" width="1450" height="50" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
